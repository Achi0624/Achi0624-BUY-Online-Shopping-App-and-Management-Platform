<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BUY商城 - 熱門商品與推薦商品測試</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', 'Helvetica Neue', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f7;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .section {
            background: white;
            margin-bottom: 40px;
            padding: 30px;
            border-radius: 16px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
        }

        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 2rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
        }

        .product-card {
            border: 1px solid #e5e7eb;
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15);
        }

        .product-image {
            width: 100%;
            height: 200px;
            background: #f3f4f6;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            position: relative;
        }

        .product-badge {
            position: absolute;
            top: 8px;
            left: 8px;
            background: #ef4444;
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .product-rating {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(255, 255, 255, 0.9);
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .product-info {
            padding: 16px;
        }

        .product-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
            line-height: 1.4;
        }

        .product-vendor {
            font-size: 14px;
            color: #6b7280;
            margin-bottom: 12px;
        }

        .product-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 12px;
            color: #6b7280;
        }

        .product-price {
            font-size: 20px;
            font-weight: bold;
            color: #4f46e5;
        }

        .btn {
            padding: 8px 16px;
            border: 2px solid #4f46e5;
            background: transparent;
            color: #4f46e5;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background: #4f46e5;
            color: white;
        }

        .popular-section {
            background: linear-gradient(135deg, #fef7f0 0%, #fef3ec 100%);
        }

        .recommended-section {
            background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
        }

        .recommendation-badge {
            position: absolute;
            top: 8px;
            left: 8px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-indicator {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 500;
            margin: 10px 0;
        }

        .status-success {
            background: #dcfce7;
            color: #166534;
        }

        .status-info {
            background: #dbeafe;
            color: #1e40af;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 style="text-align: center; margin-bottom: 40px; font-size: 2.5rem; color: #1f2937;">
            🛒 BUY商城 - 功能測試頁面
        </h1>

        <!-- 功能狀態 -->
        <div class="section">
            <h2>✅ 功能實現狀態</h2>
            <div class="status-indicator status-success">本週熱門商品組件 - 已完成</div>
            <div class="status-indicator status-success">你可能會喜歡組件 - 已完成</div>
            <div class="status-indicator status-success">API 整合 - 已完成</div>
            <div class="status-indicator status-info">已整合到首頁 HomeView.vue</div>
        </div>

        <!-- 本週熱門商品演示 -->
        <div class="section popular-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span style="animation: pulse 2s infinite;">🔥</span>
                    本週熱門商品
                </h2>
                <button class="btn">查看全部</button>
            </div>

            <div class="products-grid">
                <div class="product-card">
                    <div class="product-image">
                        💻
                        <div class="product-badge">熱銷</div>
                        <div class="product-rating">
                            <span>⭐</span>
                            <span>4.8</span>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">MacBook Pro 16吋</h3>
                        <p class="product-vendor">Apple Store</p>
                        <div class="product-stats">
                            <span>已售 1,234</span>
                            <span>5,678 人瀏覽</span>
                        </div>
                        <div class="product-price">NT$ 89,900</div>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">
                        📱
                        <div class="product-badge">熱銷</div>
                        <div class="product-rating">
                            <span>⭐</span>
                            <span>4.9</span>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">iPhone 15 Pro Max</h3>
                        <p class="product-vendor">Apple Store</p>
                        <div class="product-stats">
                            <span>已售 2,345</span>
                            <span>8,901 人瀏覽</span>
                        </div>
                        <div class="product-price">NT$ 48,900</div>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">
                        🎧
                        <div class="product-badge">熱銷</div>
                        <div class="product-rating">
                            <span>⭐</span>
                            <span>4.7</span>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">AirPods Pro 第二代</h3>
                        <p class="product-vendor">Apple Store</p>
                        <div class="product-stats">
                            <span>已售 3,456</span>
                            <span>12,345 人瀏覽</span>
                        </div>
                        <div class="product-price">NT$ 7,490</div>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">
                        ⌚
                        <div class="product-badge">熱銷</div>
                        <div class="product-rating">
                            <span>⭐</span>
                            <span>4.6</span>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Apple Watch Series 9</h3>
                        <p class="product-vendor">Apple Store</p>
                        <div class="product-stats">
                            <span>已售 1,890</span>
                            <span>7,654 人瀏覽</span>
                        </div>
                        <div class="product-price">NT$ 12,900</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 你可能會喜歡演示 -->
        <div class="section recommended-section">
            <div class="section-header">
                <h2 class="section-title">
                    <span style="animation: bounce 2s infinite;">💝</span>
                    你可能會喜歡
                    <span style="background: linear-gradient(45deg, #667eea, #764ba2); color: white; font-size: 12px; padding: 4px 8px; border-radius: 12px; margin-left: 8px;">個人化</span>
                </h2>
                <button class="btn">查看更多推薦</button>
            </div>

            <div class="products-grid">
                <div class="product-card">
                    <div class="product-image">
                        📷
                        <div class="recommendation-badge">高評分商品</div>
                        <div class="product-rating">
                            <span>⭐</span>
                            <span>4.9</span>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Sony Alpha A7R V</h3>
                        <p class="product-vendor">Sony Store</p>
                        <div class="product-stats">
                            <span>156 則評價</span>
                            <span>已售 89</span>
                        </div>
                        <div class="product-price">NT$ 128,000</div>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">
                        🎮
                        <div class="recommendation-badge">熱銷商品</div>
                        <div class="product-rating">
                            <span>⭐</span>
                            <span>4.8</span>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">PlayStation 5</h3>
                        <p class="product-vendor">Sony Store</p>
                        <div class="product-stats">
                            <span>892 則評價</span>
                            <span>已售 1,567</span>
                        </div>
                        <div class="product-price">NT$ 15,980</div>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">
                        💻
                        <div class="recommendation-badge">熱門瀏覽</div>
                        <div class="product-rating">
                            <span>⭐</span>
                            <span>4.7</span>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Dell XPS 13 Plus</h3>
                        <p class="product-vendor">Dell Store</p>
                        <div class="product-stats">
                            <span>234 則評價</span>
                            <span>已售 456</span>
                        </div>
                        <div class="product-price">NT$ 56,900</div>
                    </div>
                </div>

                <div class="product-card">
                    <div class="product-image">
                        🖨️
                        <div class="recommendation-badge">為你推薦</div>
                        <div class="product-rating">
                            <span>⭐</span>
                            <span>4.5</span>
                        </div>
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">Canon PIXMA Pro-200</h3>
                        <p class="product-vendor">Canon Store</p>
                        <div class="product-stats">
                            <span>67 則評價</span>
                            <span>已售 123</span>
                        </div>
                        <div class="product-price">NT$ 18,900</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 推薦策略對比 -->
        <div class="section">
            <h2>🎯 不同推薦策略演示</h2>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 20px 0;">
                <div style="border: 2px solid #ff6b35; border-radius: 12px; padding: 20px; background: #fff5f2;">
                    <h3 style="color: #ff6b35; margin-bottom: 12px;">🔥 熱門商品策略</h3>
                    <p><strong>權重配置：</strong></p>
                    <ul style="margin-left: 16px; line-height: 1.8;">
                        <li>銷售數量：40%</li>
                        <li>瀏覽數量：30%</li>
                        <li>商品評分：20%</li>
                        <li>評論數量：10%</li>
                    </ul>
                    <p style="margin-top: 12px; color: #666;"><em>篩選：銷量>10 或 瀏覽>100，評分≥3.0</em></p>
                </div>

                <div style="border: 2px solid #667eea; border-radius: 12px; padding: 20px; background: #f0f4ff;">
                    <h3 style="color: #667eea; margin-bottom: 12px;">💝 推薦商品策略</h3>
                    <p><strong>多策略混合：</strong></p>
                    <ul style="margin-left: 16px; line-height: 1.8;">
                        <li>高評分商品 (評分≥4.0)</li>
                        <li>趨勢商品 (瀏覽增長)</li>  
                        <li>新品推薦</li>
                        <li>個人化推薦 (基於瀏覽歷史)</li>
                    </ul>
                    <p style="margin-top: 12px; color: #666;"><em>排除熱門商品，確保不重複</em></p>
                </div>

                <div style="border: 2px solid #10b981; border-radius: 12px; padding: 20px; background: #f0fdf4;">
                    <h3 style="color: #10b981; margin-bottom: 12px;">🎯 個人化推薦</h3>
                    <p><strong>會員專享：</strong></p>
                    <ul style="margin-left: 16px; line-height: 1.8;">
                        <li>基於瀏覽歷史分類推薦</li>
                        <li>價格偏好分析</li>
                        <li>排除已瀏覽商品</li>
                        <li>智能標籤生成</li>
                    </ul>
                    <p style="margin-top: 12px; color: #666;"><em>登入會員享有個人化推薦</em></p>
                </div>
            </div>
        </div>

        <!-- 技術說明 -->
        <div class="section">
            <h2>🛠️ 升級後的技術實現</h2>
            <div style="line-height: 2; color: #4b5563;">
                <h3 style="margin: 16px 0; color: #1f2937;">🆕 智能推薦算法：</h3>
                <ul style="margin-left: 20px;">
                    <li>✅ <strong>ProductRecommendationService</strong> - 新增智能推薦服務</li>
                    <li>✅ <strong>多權重評分系統</strong> - 銷量、瀏覽、評分、新鮮度綜合評估</li>
                    <li>✅ <strong>策略模式設計</strong> - 支援熱門、高評分、趨勢、新品等6種策略</li>
                    <li>✅ <strong>動態過濾器</strong> - 價格範圍、評分門檻、庫存狀態等</li>
                    <li>✅ <strong>去重機制</strong> - 推薦商品自動排除熱門商品，避免重複</li>
                </ul>

                <h3 style="margin: 16px 0; color: #1f2937;">🔥 熱門商品改進：</h3>
                <ul style="margin-left: 20px;">
                    <li>✅ 真正基於銷量和瀏覽量的熱門商品排序</li>
                    <li>✅ 最低門檻篩選 (銷量>10 或 瀏覽>100)</li>
                    <li>✅ 評分門檻保證品質 (≥3.0)</li>
                    <li>✅ 多重備用策略，確保總是有內容顯示</li>
                </ul>

                <h3 style="margin: 16px 0; color: #1f2937;">💝 個人化推薦升級：</h3>
                <ul style="margin-left: 20px;">
                    <li>✅ <strong>會員推薦</strong>：基於瀏覽歷史的分類和價格偏好</li>
                    <li>✅ <strong>訪客推薦</strong>：高評分+趨勢+新品的混合策略</li>
                    <li>✅ <strong>智能標籤</strong>：超值推薦、精品推薦、新品好物等</li>
                    <li>✅ <strong>排除機制</strong>：避免推薦已瀏覽或熱門商品</li>
                    <li>✅ <strong>多層備用</strong>：API失敗時自動切換到備用策略</li>
                </ul>

                <h3 style="margin: 16px 0; color: #1f2937;">🔧 檔案結構：</h3>
                <ul style="margin-left: 20px;">
                    <li>📁 <strong>src/utils/productRecommendation.ts</strong> - 新增智能推薦算法</li>
                    <li>📁 src/components/home/PopularProducts.vue - 升級使用新算法</li>
                    <li>📁 src/components/home/RecommendedProducts.vue - 升級多策略推薦</li>
                    <li>📁 src/views/HomeView.vue - 首頁整合</li>
                    <li>📁 src/api/modules/product.ts - 原有 API 保持兼容</li>
                </ul>

                <h3 style="margin: 16px 0; color: #1f2937;">🎯 解決的問題：</h3>
                <ul style="margin-left: 20px;">
                    <li>❌ <s>熱門商品與推薦商品內容重複</s> → ✅ 不同算法確保內容差異化</li>
                    <li>❌ <s>推薦商品回退到熱門商品</s> → ✅ 多策略混合，絕不重複</li>
                    <li>❌ <s>缺乏個人化推薦邏輯</s> → ✅ 基於用戶行為的智能推薦</li>
                    <li>❌ <s>推薦理由不準確</s> → ✅ 動態生成精準推薦標籤</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // 模擬點擊效果
        document.querySelectorAll('.product-card').forEach(card => {
            card.addEventListener('click', function() {
                const productName = this.querySelector('.product-name').textContent;
                alert(`點擊了商品: ${productName}\n\n實際使用時會導航到商品詳情頁面`);
            });
        });

        // 模擬按鈕點擊
        document.querySelectorAll('.btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation();
                const text = this.textContent;
                if (text.includes('查看全部')) {
                    alert('實際使用時會導航到商品列表頁面，並顯示熱門商品排序');
                } else if (text.includes('查看更多推薦')) {
                    alert('實際使用時會導航到商品列表頁面，並顯示推薦商品排序');
                }
            });
        });

        // 動畫效果
        const style = document.createElement('style');
        style.textContent = `
            @keyframes pulse {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.1); }
            }
            @keyframes bounce {
                0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
                40% { transform: translateY(-10px); }
                60% { transform: translateY(-5px); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>