<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API é€£æ¥æ¸¬è©¦å·¥å…·</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }
        
        h1 {
            color: #7cb342;
            text-align: center;
            margin-bottom: 30px;
        }
        
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
        }
        
        .test-section h2 {
            color: #333;
            margin-top: 0;
        }
        
        button {
            background: #7cb342;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            font-size: 14px;
        }
        
        button:hover {
            background: #689f38;
        }
        
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        
        .result {
            margin-top: 15px;
            padding: 15px;
            border-radius: 6px;
            font-family: monospace;
            white-space: pre-wrap;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .result.success {
            background: #e8f5e8;
            border: 1px solid #7cb342;
            color: #2e7d32;
        }
        
        .result.error {
            background: #ffebee;
            border: 1px solid #f44336;
            color: #c62828;
        }
        
        .result.info {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            color: #1565c0;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .status-indicator.success {
            background: #4caf50;
        }
        
        .status-indicator.error {
            background: #f44336;
        }
        
        .status-indicator.warning {
            background: #ff9800;
        }
        
        .api-urls {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        
        .api-urls code {
            background: white;
            padding: 4px 8px;
            border-radius: 4px;
            margin: 2px;
            display: inline-block;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ BUYå•†åŸ API é€£æ¥æ¸¬è©¦å·¥å…·</h1>
        
        <div class="api-urls">
            <h3>ğŸ”— API ç«¯é»é…ç½®</h3>
            <div>ä¸»è¦API: <code id="main-api">http://localhost:5105/api</code></div>
            <div>å‚™ç”¨API: <code id="backup-api">https://localhost:7044/api</code></div>
            <div>Swagger: <code>https://localhost:7044/swagger</code></div>
        </div>
        
        <!-- åŸºç¤é€£æ¥æ¸¬è©¦ -->
        <div class="test-section">
            <h2><span class="status-indicator" id="health-status"></span>1. åŸºç¤é€£æ¥æ¸¬è©¦</h2>
            <button onclick="testHealthCheck()">æ¸¬è©¦å¥åº·æª¢æŸ¥</button>
            <button onclick="testDatabaseConnection()">æ¸¬è©¦è³‡æ–™åº«é€£æ¥</button>
            <button onclick="testCors()">æ¸¬è©¦CORSè¨­å®š</button>
            <div id="health-result" class="result" style="display: none;"></div>
        </div>
        
        <!-- æ•¸æ“šæ¸¬è©¦ -->
        <div class="test-section">
            <h2><span class="status-indicator" id="data-status"></span>2. æ•¸æ“šæ¸¬è©¦</h2>
            <button onclick="testSampleData()">æª¢æŸ¥ç¯„ä¾‹æ•¸æ“š</button>
            <button onclick="createTestData()">å»ºç«‹æ¸¬è©¦æ•¸æ“š</button>
            <button onclick="testProducts()">æ¸¬è©¦å•†å“API</button>
            <button onclick="testCategories()">æ¸¬è©¦åˆ†é¡API</button>
            <div id="data-result" class="result" style="display: none;"></div>
        </div>
        
        <!-- Vue.js å‰ç«¯æ•´åˆæ¸¬è©¦ -->
        <div class="test-section">
            <h2><span class="status-indicator" id="vue-status"></span>3. Vue.js å‰ç«¯æ•´åˆæ¸¬è©¦</h2>
            <button onclick="testVueApiIntegration()">æ¸¬è©¦ Vue API æ•´åˆ</button>
            <button onclick="testProductStore()">æ¸¬è©¦å•†å“ Store</button>
            <div id="vue-result" class="result" style="display: none;"></div>
        </div>
        
        <!-- è¨ºæ–·çµæœ -->
        <div class="test-section">
            <h2>ğŸ” è¨ºæ–·çµæœ</h2>
            <button onclick="runFullDiagnostic()">åŸ·è¡Œå®Œæ•´è¨ºæ–·</button>
            <div id="diagnostic-result" class="result" style="display: none;"></div>
        </div>
    </div>
    
    <script>
        // API åŸºç¤ URL (æœƒè‡ªå‹•æ¸¬è©¦å¤šå€‹ç«¯é»)
        const API_URLS = [
            'http://localhost:5105/api',
            'https://localhost:7044/api',
            'http://localhost:5099/api'
        ];
        
        let currentApiUrl = API_URLS[0];
        
        // é€šç”¨çš„ API è«‹æ±‚å‡½æ•¸
        async function apiRequest(endpoint, options = {}) {
            const results = [];
            
            for (const baseUrl of API_URLS) {
                try {
                    const url = baseUrl + endpoint;
                    console.log(`å˜—è©¦é€£æ¥: ${url}`);
                    
                    const response = await fetch(url, {
                        ...options,
                        mode: 'cors',
                        headers: {
                            'Content-Type': 'application/json',
                            ...options.headers
                        }
                    });
                    
                    const data = await response.json();
                    results.push({
                        url: baseUrl,
                        success: true,
                        status: response.status,
                        data: data
                    });
                    
                    // å¦‚æœæˆåŠŸï¼Œè¨­ç‚ºç•¶å‰API URL
                    currentApiUrl = baseUrl;
                    break;
                    
                } catch (error) {
                    results.push({
                        url: baseUrl,
                        success: false,
                        error: error.message
                    });
                }
            }
            
            return results;
        }
        
        // é¡¯ç¤ºçµæœçš„è¼”åŠ©å‡½æ•¸
        function showResult(elementId, message, type = 'info') {
            const element = document.getElementById(elementId);
            element.style.display = 'block';
            element.className = `result ${type}`;
            element.textContent = message;
        }
        
        function updateStatusIndicator(indicatorId, status) {
            const indicator = document.getElementById(indicatorId);
            indicator.className = `status-indicator ${status}`;
        }
        
        // 1. å¥åº·æª¢æŸ¥æ¸¬è©¦
        async function testHealthCheck() {
            try {
                showResult('health-result', 'æ­£åœ¨æ¸¬è©¦å¥åº·æª¢æŸ¥...', 'info');
                
                const results = await apiRequest('/test/health');
                const successResult = results.find(r => r.success);
                
                if (successResult) {
                    updateStatusIndicator('health-status', 'success');
                    showResult('health-result', 
                        `âœ… å¥åº·æª¢æŸ¥æˆåŠŸï¼\n` +
                        `API URL: ${successResult.url}\n` +
                        `ç‹€æ…‹: ${successResult.status}\n` +
                        `éŸ¿æ‡‰: ${JSON.stringify(successResult.data, null, 2)}`, 
                        'success'
                    );
                } else {
                    updateStatusIndicator('health-status', 'error');
                    showResult('health-result', 
                        `âŒ æ‰€æœ‰APIç«¯é»éƒ½ç„¡æ³•é€£æ¥\n` +
                        `éŒ¯èª¤è©³æƒ…:\n` +
                        results.map(r => `${r.url}: ${r.error}`).join('\n'), 
                        'error'
                    );
                }
            } catch (error) {
                updateStatusIndicator('health-status', 'error');
                showResult('health-result', `âŒ å¥åº·æª¢æŸ¥å¤±æ•—: ${error.message}`, 'error');
            }
        }
        
        // æ¸¬è©¦è³‡æ–™åº«é€£æ¥
        async function testDatabaseConnection() {
            try {
                showResult('health-result', 'æ­£åœ¨æ¸¬è©¦è³‡æ–™åº«é€£æ¥...', 'info');
                
                const results = await apiRequest('/test/database');
                const successResult = results.find(r => r.success);
                
                if (successResult) {
                    showResult('health-result', 
                        `âœ… è³‡æ–™åº«é€£æ¥æˆåŠŸï¼\n` +
                        `çµ±è¨ˆè³‡æ–™:\n` +
                        JSON.stringify(successResult.data, null, 2), 
                        'success'
                    );
                } else {
                    showResult('health-result', 
                        `âŒ è³‡æ–™åº«é€£æ¥å¤±æ•—\n` +
                        `è«‹æª¢æŸ¥:\n` +
                        `1. Azure SQL è³‡æ–™åº«æ˜¯å¦æ­£å¸¸é‹è¡Œ\n` +
                        `2. é€£æ¥å­—ä¸²æ˜¯å¦æ­£ç¢º\n` +
                        `3. é˜²ç«ç‰†è¨­å®šæ˜¯å¦å…è¨±é€£æ¥`, 
                        'error'
                    );
                }
            } catch (error) {
                showResult('health-result', `âŒ è³‡æ–™åº«æ¸¬è©¦å¤±æ•—: ${error.message}`, 'error');
            }
        }
        
        // æ¸¬è©¦CORS
        async function testCors() {
            try {
                showResult('health-result', 'æ­£åœ¨æ¸¬è©¦CORSè¨­å®š...', 'info');
                
                const results = await apiRequest('/test/cors');
                const successResult = results.find(r => r.success);
                
                if (successResult) {
                    showResult('health-result', 
                        `âœ… CORSè¨­å®šæ­£å¸¸ï¼\n` +
                        `Origin: ${window.location.origin}\n` +
                        `éŸ¿æ‡‰: ${JSON.stringify(successResult.data, null, 2)}`, 
                        'success'
                    );
                } else {
                    showResult('health-result', 
                        `âŒ CORSè¨­å®šæœ‰å•é¡Œ\n` +
                        `ç•¶å‰Origin: ${window.location.origin}\n` +
                        `è«‹ç¢ºèªå¾Œç«¯CORSè¨­å®šåŒ…å«æ­¤Origin`, 
                        'error'
                    );
                }
            } catch (error) {
                showResult('health-result', `âŒ CORSæ¸¬è©¦å¤±æ•—: ${error.message}`, 'error');
            }
        }
        
        // æª¢æŸ¥ç¯„ä¾‹æ•¸æ“š
        async function testSampleData() {
            try {
                showResult('data-result', 'æ­£åœ¨æª¢æŸ¥ç¯„ä¾‹æ•¸æ“š...', 'info');
                
                const results = await apiRequest('/test/sample-data');
                const successResult = results.find(r => r.success);
                
                if (successResult) {
                    const data = successResult.data;
                    if (data.data && (data.data.sampleCategories?.length > 0 || data.data.sampleProducts?.length > 0)) {
                        updateStatusIndicator('data-status', 'success');
                        showResult('data-result', 
                            `âœ… ç™¼ç¾ç¯„ä¾‹æ•¸æ“šï¼\n` +
                            `åˆ†é¡æ•¸é‡: ${data.data.sampleCategories?.length || 0}\n` +
                            `å•†å“æ•¸é‡: ${data.data.sampleProducts?.length || 0}\n` +
                            `è©³ç´°è³‡æ–™:\n${JSON.stringify(data.data, null, 2)}`, 
                            'success'
                        );
                    } else {
                        updateStatusIndicator('data-status', 'warning');
                        showResult('data-result', 
                            `âš ï¸ è³‡æ–™åº«ä¸­æš«ç„¡æ•¸æ“š\n` +
                            `è«‹é»æ“Š"å»ºç«‹æ¸¬è©¦æ•¸æ“š"æŒ‰éˆ•ä¾†å‰µå»ºæ¸¬è©¦è³‡æ–™`, 
                            'error'
                        );
                    }
                } else {
                    updateStatusIndicator('data-status', 'error');
                    showResult('data-result', 'âŒ ç„¡æ³•æª¢æŸ¥ç¯„ä¾‹æ•¸æ“š', 'error');
                }
            } catch (error) {
                updateStatusIndicator('data-status', 'error');
                showResult('data-result', `âŒ æª¢æŸ¥æ•¸æ“šå¤±æ•—: ${error.message}`, 'error');
            }
        }
        
        // å»ºç«‹æ¸¬è©¦æ•¸æ“š
        async function createTestData() {
            try {
                showResult('data-result', 'æ­£åœ¨å»ºç«‹æ¸¬è©¦æ•¸æ“š...', 'info');
                
                const results = await apiRequest('/seeddata/all', {
                    method: 'POST'
                });
                
                const successResult = results.find(r => r.success);
                
                if (successResult) {
                    updateStatusIndicator('data-status', 'success');
                    showResult('data-result', 
                        `âœ… æ¸¬è©¦æ•¸æ“šå»ºç«‹æˆåŠŸï¼\n` +
                        `éŸ¿æ‡‰: ${JSON.stringify(successResult.data, null, 2)}`, 
                        'success'
                    );
                    
                    // å»ºç«‹å®Œæ•¸æ“šå¾Œï¼Œè‡ªå‹•æ¸¬è©¦å•†å“API
                    setTimeout(testProducts, 1000);
                } else {
                    showResult('data-result', 
                        `âŒ å»ºç«‹æ¸¬è©¦æ•¸æ“šå¤±æ•—\n` +
                        `å¯èƒ½åŸå› :\n` +
                        `1. è³‡æ–™åº«é€£æ¥å•é¡Œ\n` +
                        `2. è³‡æ–™å·²å­˜åœ¨\n` +
                        `3. æ¬Šé™å•é¡Œ`, 
                        'error'
                    );
                }
            } catch (error) {
                showResult('data-result', `âŒ å»ºç«‹æ¸¬è©¦æ•¸æ“šå¤±æ•—: ${error.message}`, 'error');
            }
        }
        
        // æ¸¬è©¦å•†å“API
        async function testProducts() {
            try {
                showResult('data-result', 'æ­£åœ¨æ¸¬è©¦å•†å“API...', 'info');
                
                const results = await apiRequest('/products?page=1&limit=5');
                const successResult = results.find(r => r.success);
                
                if (successResult) {
                    const data = successResult.data;
                    if (data.success && data.data?.data?.length > 0) {
                        showResult('data-result', 
                            `âœ… å•†å“APIæ¸¬è©¦æˆåŠŸï¼\n` +
                            `ç¸½å•†å“æ•¸: ${data.data.total}\n` +
                            `ç•¶å‰é å•†å“: ${data.data.data.length}\n` +
                            `ç¬¬ä¸€å€‹å•†å“: ${data.data.data[0].productName}\n` +
                            `å®Œæ•´éŸ¿æ‡‰:\n${JSON.stringify(data, null, 2)}`, 
                            'success'
                        );
                    } else {
                        showResult('data-result', 
                            `âš ï¸ å•†å“APIå¯é€£æ¥ä½†ç„¡æ•¸æ“š\n` +
                            `éŸ¿æ‡‰æ ¼å¼: ${JSON.stringify(data, null, 2)}`, 
                            'error'
                        );
                    }
                } else {
                    showResult('data-result', 'âŒ å•†å“APIç„¡æ³•é€£æ¥', 'error');
                }
            } catch (error) {
                showResult('data-result', `âŒ å•†å“APIæ¸¬è©¦å¤±æ•—: ${error.message}`, 'error');
            }
        }
        
        // æ¸¬è©¦åˆ†é¡API
        async function testCategories() {
            try {
                showResult('data-result', 'æ­£åœ¨æ¸¬è©¦åˆ†é¡API...', 'info');
                
                const results = await apiRequest('/categories');
                const successResult = results.find(r => r.success);
                
                if (successResult) {
                    const data = successResult.data;
                    if (data.success && data.data?.length > 0) {
                        showResult('data-result', 
                            `âœ… åˆ†é¡APIæ¸¬è©¦æˆåŠŸï¼\n` +
                            `åˆ†é¡æ•¸é‡: ${data.data.length}\n` +
                            `åˆ†é¡åˆ—è¡¨: ${data.data.map(c => c.categoryName).join(', ')}\n` +
                            `å®Œæ•´éŸ¿æ‡‰:\n${JSON.stringify(data, null, 2)}`, 
                            'success'
                        );
                    } else {
                        showResult('data-result', 
                            `âš ï¸ åˆ†é¡APIå¯é€£æ¥ä½†ç„¡æ•¸æ“š\n` +
                            `éŸ¿æ‡‰: ${JSON.stringify(data, null, 2)}`, 
                            'error'
                        );
                    }
                } else {
                    showResult('data-result', 'âŒ åˆ†é¡APIç„¡æ³•é€£æ¥', 'error');
                }
            } catch (error) {
                showResult('data-result', `âŒ åˆ†é¡APIæ¸¬è©¦å¤±æ•—: ${error.message}`, 'error');
            }
        }
        
        // æ¸¬è©¦Vue.js APIæ•´åˆ
        async function testVueApiIntegration() {
            try {
                showResult('vue-result', 'æ­£åœ¨æ¸¬è©¦ Vue.js API æ•´åˆ...', 'info');
                
                // æ¨¡æ“¬Vue.jsä¸­çš„APIèª¿ç”¨
                const testEndpoints = [
                    '/products?page=1&limit=12',
                    '/categories',
                    '/products/popular?limit=8',
                    '/products/new?limit=8'
                ];
                
                let allSuccess = true;
                let results = [];
                
                for (const endpoint of testEndpoints) {
                    try {
                        const apiResults = await apiRequest(endpoint);
                        const successResult = apiResults.find(r => r.success);
                        
                        if (successResult) {
                            results.push(`âœ… ${endpoint}: æˆåŠŸ`);
                        } else {
                            results.push(`âŒ ${endpoint}: å¤±æ•—`);
                            allSuccess = false;
                        }
                    } catch (error) {
                        results.push(`âŒ ${endpoint}: ${error.message}`);
                        allSuccess = false;
                    }
                }
                
                if (allSuccess) {
                    updateStatusIndicator('vue-status', 'success');
                    showResult('vue-result', 
                        `âœ… Vue.js API æ•´åˆæ¸¬è©¦å…¨éƒ¨æˆåŠŸï¼\n\n` +
                        `æ¸¬è©¦çµæœ:\n${results.join('\n')}\n\n` +
                        `âœ… æ‚¨çš„å‰ç«¯ç¾åœ¨å¯ä»¥æ­£å¸¸è¼‰å…¥è³‡æ–™åº«æ•¸æ“šäº†ï¼\n` +
                        `å»ºè­°é‡æ–°å•Ÿå‹•å‰ç«¯æ‡‰ç”¨ç¨‹å¼: npm run dev`, 
                        'success'
                    );
                } else {
                    updateStatusIndicator('vue-status', 'error');
                    showResult('vue-result', 
                        `âš ï¸ éƒ¨åˆ†APIç«¯é»æ¸¬è©¦å¤±æ•—\n\n` +
                        `æ¸¬è©¦çµæœ:\n${results.join('\n')}`, 
                        'error'
                    );
                }
            } catch (error) {
                updateStatusIndicator('vue-status', 'error');
                showResult('vue-result', `âŒ Vue.js æ•´åˆæ¸¬è©¦å¤±æ•—: ${error.message}`, 'error');
            }
        }
        
        // æ¸¬è©¦å•†å“Store
        async function testProductStore() {
            try {
                showResult('vue-result', 'æ­£åœ¨æ¸¬è©¦å•†å“ Store åŠŸèƒ½...', 'info');
                
                // æ¸¬è©¦ä¸åŒçš„APIèª¿ç”¨æ¨¡å¼
                const storeTests = [
                    { name: 'å•†å“åˆ—è¡¨', endpoint: '/products' },
                    { name: 'å•†å“è©³æƒ…', endpoint: '/products/1' },
                    { name: 'å•†å“æœå°‹', endpoint: '/products/search?keyword=iPhone' },
                    { name: 'åˆ†é¡å•†å“', endpoint: '/categories/1/products' }
                ];
                
                let results = [];
                
                for (const test of storeTests) {
                    try {
                        const apiResults = await apiRequest(test.endpoint);
                        const successResult = apiResults.find(r => r.success);
                        
                        if (successResult) {
                            results.push(`âœ… ${test.name}: æ­£å¸¸`);
                        } else {
                            results.push(`âŒ ${test.name}: ç„¡æ³•é€£æ¥`);
                        }
                    } catch (error) {
                        results.push(`âŒ ${test.name}: ${error.message}`);
                    }
                }
                
                showResult('vue-result', 
                    `å•†å“ Store æ¸¬è©¦çµæœ:\n\n` +
                    results.join('\n') + '\n\n' +
                    `ğŸ“‹ å‰ç«¯æ•´åˆæª¢æŸ¥æ¸…å–®:\n` +
                    `â–¡ ç¢ºèª .env.development ä¸­çš„ VITE_API_URL è¨­å®šæ­£ç¢º\n` +
                    `â–¡ é‡æ–°å•Ÿå‹•å‰ç«¯é–‹ç™¼ä¼ºæœå™¨ (npm run dev)\n` +
                    `â–¡ æª¢æŸ¥ç€è¦½å™¨é–‹ç™¼è€…å·¥å…·çš„ Network æ¨™ç±¤\n` +
                    `â–¡ ç¢ºèªå¾Œç«¯APIä¼ºæœå™¨æ­£åœ¨é‹è¡Œ`, 
                    'info'
                );
            } catch (error) {
                showResult('vue-result', `âŒ Store æ¸¬è©¦å¤±æ•—: ${error.message}`, 'error');
            }
        }
        
        // åŸ·è¡Œå®Œæ•´è¨ºæ–·
        async function runFullDiagnostic() {
            showResult('diagnostic-result', 'ğŸ” é–‹å§‹åŸ·è¡Œå®Œæ•´è¨ºæ–·...', 'info');
            
            const diagnosticSteps = [
                { name: 'å¥åº·æª¢æŸ¥', func: testHealthCheck },
                { name: 'è³‡æ–™åº«é€£æ¥', func: testDatabaseConnection },
                { name: 'ç¯„ä¾‹æ•¸æ“šæª¢æŸ¥', func: testSampleData },
                { name: 'Vue.js æ•´åˆ', func: testVueApiIntegration }
            ];
            
            let diagnosticReport = 'ğŸ” å®Œæ•´è¨ºæ–·å ±å‘Š\n' + '='.repeat(50) + '\n\n';
            
            for (const step of diagnosticSteps) {
                diagnosticReport += `æ­£åœ¨åŸ·è¡Œ: ${step.name}...\n`;
                try {
                    await step.func();
                    diagnosticReport += `âœ… ${step.name}: å®Œæˆ\n`;
                } catch (error) {
                    diagnosticReport += `âŒ ${step.name}: å¤±æ•— - ${error.message}\n`;
                }
                diagnosticReport += '\n';
            }
            
            diagnosticReport += 'ğŸ“‹ è¨ºæ–·ç¸½çµ\n' + '-'.repeat(30) + '\n';
            diagnosticReport += `API URL: ${currentApiUrl}\n`;
            diagnosticReport += `æ™‚é–“: ${new Date().toLocaleString()}\n`;
            diagnosticReport += `ç€è¦½å™¨: ${navigator.userAgent}\n\n`;
            
            diagnosticReport += 'ğŸ”§ å»ºè­°è§£æ±ºæ­¥é©Ÿ:\n';
            diagnosticReport += '1. ç¢ºèªå¾Œç«¯APIåœ¨æ­£ç¢ºç«¯å£é‹è¡Œ\n';
            diagnosticReport += '2. æª¢æŸ¥è³‡æ–™åº«é€£æ¥è¨­å®š\n';
            diagnosticReport += '3. å»ºç«‹æ¸¬è©¦æ•¸æ“š\n';
            diagnosticReport += '4. æ›´æ–°å‰ç«¯APIé…ç½®\n';
            diagnosticReport += '5. é‡å•Ÿå‰ç«¯é–‹ç™¼ä¼ºæœå™¨\n';
            
            showResult('diagnostic-result', diagnosticReport, 'info');
        }
        
        // é é¢è¼‰å…¥å¾Œè‡ªå‹•åŸ·è¡ŒåŸºç¤æª¢æŸ¥
        window.addEventListener('load', function() {
            // æ›´æ–°API URLé¡¯ç¤º
            document.getElementById('main-api').textContent = currentApiUrl;
            
            setTimeout(() => {
                console.log('é–‹å§‹è‡ªå‹•è¨ºæ–·...');
                testHealthCheck();
            }, 1000);
        });
    </script>
</body>
</html>